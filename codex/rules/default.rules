# BEGIN CLAUDE SYNC (auto-generated)
# ========================================================
# AUTO-GENERATED CODEX RULES FROM CLAUDE CODE SETTINGS
# Source: /Users/yulong/code/dotfiles/claude/settings.json
# Generated by: scripts/helpers/convert_claude_perms.py
# NOTE: claude_sync.generated.rules is a build artifact; safe to delete and will be regenerated by scripts/sync_claude_to_codex.sh
# NOTE: 'ask' entries map to decision="prompt"
# Test: codex execpolicy check --rules ~/.codex/rules/default.rules -- <command>
# ========================================================

# allow rules
prefix_rule(pattern=["bash", "-lc", "grep"], decision="allow")
prefix_rule(pattern=["grep"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "rg"], decision="allow")
prefix_rule(pattern=["rg"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "find"], decision="allow")
prefix_rule(pattern=["find"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "fd"], decision="allow")
prefix_rule(pattern=["fd"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "ls"], decision="allow")
prefix_rule(pattern=["ls"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "eza"], decision="allow")
prefix_rule(pattern=["eza"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "cat"], decision="allow")
prefix_rule(pattern=["cat"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "bat"], decision="allow")
prefix_rule(pattern=["bat"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "head"], decision="allow")
prefix_rule(pattern=["head"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "tail"], decision="allow")
prefix_rule(pattern=["tail"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "du"], decision="allow")
prefix_rule(pattern=["du"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "dust"], decision="allow")
prefix_rule(pattern=["dust"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "df"], decision="allow")
prefix_rule(pattern=["df"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "duf"], decision="allow")
prefix_rule(pattern=["duf"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "echo"], decision="allow")
prefix_rule(pattern=["echo"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "mkdir"], decision="allow")
prefix_rule(pattern=["mkdir"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "sleep"], decision="allow")
prefix_rule(pattern=["sleep"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "nohup"], decision="allow")
prefix_rule(pattern=["nohup"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "tee"], decision="allow")
prefix_rule(pattern=["tee"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "chmod"], decision="allow")
prefix_rule(pattern=["chmod"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "shortcuts list"], decision="allow")
prefix_rule(pattern=["shortcuts", "list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git checkout"], decision="allow")
prefix_rule(pattern=["git", "checkout"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git init"], decision="allow")
prefix_rule(pattern=["git", "init"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git fetch"], decision="allow")
prefix_rule(pattern=["git", "fetch"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git ls-tree"], decision="allow")
prefix_rule(pattern=["git", "ls-tree"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git merge-base"], decision="allow")
prefix_rule(pattern=["git", "merge-base"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git worktree list"], decision="allow")
prefix_rule(pattern=["git", "worktree", "list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git add"], decision="allow")
prefix_rule(pattern=["git", "add"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git diff"], decision="allow")
prefix_rule(pattern=["git", "diff"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git commit"], decision="allow")
prefix_rule(pattern=["git", "commit"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git stash push"], decision="allow")
prefix_rule(pattern=["git", "stash", "push"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git stash pop"], decision="allow")
prefix_rule(pattern=["git", "stash", "pop"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git stash list"], decision="allow")
prefix_rule(pattern=["git", "stash", "list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git push"], decision="allow")
prefix_rule(pattern=["git", "push"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git restore"], decision="allow")
prefix_rule(pattern=["git", "restore"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git add"], decision="allow")
prefix_rule(pattern=["git", "add"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git commit"], decision="allow")
prefix_rule(pattern=["git", "commit"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff"], decision="allow")
prefix_rule(pattern=["git", "diff"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git status"], decision="allow")
prefix_rule(pattern=["git", "status"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "gh api"], decision="allow")
prefix_rule(pattern=["gh", "api"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "gh pr"], decision="allow")
prefix_rule(pattern=["gh", "pr"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "claude config list"], decision="allow")
prefix_rule(pattern=["claude", "config", "list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv add"], decision="allow")
prefix_rule(pattern=["uv", "add"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run"], decision="allow")
prefix_rule(pattern=["uv", "run"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv sync"], decision="allow")
prefix_rule(pattern=["uv", "sync"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "python"], decision="allow")
prefix_rule(pattern=["python"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "python3"], decision="allow")
prefix_rule(pattern=["python3"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run python"], decision="allow")
prefix_rule(pattern=["uv", "run", "python"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run python3"], decision="allow")
prefix_rule(pattern=["uv", "run", "python3"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "HYDRA_FULL_ERROR=1 uv run python"], decision="allow")
prefix_rule(pattern=["uv", "run", "python"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "pytest"], decision="allow")
prefix_rule(pattern=["pytest"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run pytest"], decision="allow")
prefix_rule(pattern=["uv", "run", "pytest"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "for"], decision="allow")
prefix_rule(pattern=["for"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "while"], decision="allow")
prefix_rule(pattern=["while"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "touch"], decision="allow")
prefix_rule(pattern=["touch"], decision="allow")
# Skipped non-Bash permission (allow): WebSearch
# Skipped non-Bash permission (allow): WebFetch
# Skipped non-Bash permission (allow): Read
# Skipped non-Bash permission (allow): Read(//tmp/claude/**)

# deny rules
prefix_rule(pattern=["bash", "-lc", "rm -rf"], decision="forbidden")
prefix_rule(pattern=["rm", "-rf"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "rm -r"], decision="forbidden")
prefix_rule(pattern=["rm", "-r"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "shred"], decision="forbidden")
prefix_rule(pattern=["shred"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", ">"], decision="forbidden")
prefix_rule(pattern=[">"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "truncate"], decision="forbidden")
prefix_rule(pattern=["truncate"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git checkout --"], decision="forbidden")
prefix_rule(pattern=["git", "checkout", "--"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git reset --hard"], decision="forbidden")
prefix_rule(pattern=["git", "reset", "--hard"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git clean"], decision="forbidden")
prefix_rule(pattern=["git", "clean"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git push --force"], decision="forbidden")
prefix_rule(pattern=["git", "push", "--force"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git push -f"], decision="forbidden")
prefix_rule(pattern=["git", "push", "-f"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git branch -D"], decision="forbidden")
prefix_rule(pattern=["git", "branch", "-D"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "dd"], decision="forbidden")
prefix_rule(pattern=["dd"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "mkfs"], decision="forbidden")
prefix_rule(pattern=["mkfs"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "fdisk"], decision="forbidden")
prefix_rule(pattern=["fdisk"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "chmod -R 777"], decision="forbidden")
prefix_rule(pattern=["chmod", "-R", "777"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "chown -R"], decision="forbidden")
prefix_rule(pattern=["chown", "-R"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "shutdown"], decision="forbidden")
prefix_rule(pattern=["shutdown"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "reboot"], decision="forbidden")
prefix_rule(pattern=["reboot"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "halt"], decision="forbidden")
prefix_rule(pattern=["halt"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "wipefs"], decision="forbidden")
prefix_rule(pattern=["wipefs"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "chmod 000"], decision="forbidden")
prefix_rule(pattern=["chmod", "000"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "mv /"], decision="forbidden")
prefix_rule(pattern=["mv", "/"], decision="forbidden")

# ask rules
prefix_rule(pattern=["bash", "-lc", "kill"], decision="prompt")
prefix_rule(pattern=["kill"], decision="prompt")
prefix_rule(pattern=["bash", "-lc", "killall"], decision="prompt")
prefix_rule(pattern=["killall"], decision="prompt")
prefix_rule(pattern=["bash", "-lc", "pkill"], decision="prompt")
prefix_rule(pattern=["pkill"], decision="prompt")

# END CLAUDE SYNC
prefix_rule(pattern=["bash", "-lc", "git add README.md custom_bins/clear-claude-code"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git rev-parse --show-toplevel"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git config --get core.worktree; git config --get core.bare"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "env | rg \"^GIT\""], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git ls-files -v -- custom_bins/clear-claude-code README.md CLAUDE.md"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git ls-files -v -- CLAUDE.md README.md custom_bins/clear-claude-code"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git update-index --no-assume-unchanged CLAUDE.md README.md custom_bins/clear-claude-code"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git ls-files codex/rules"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git pull --rebase"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git push"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git status --short"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git add codex/config.toml config/aliases.sh"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git commit -m \"feat(codex): add profiles and denials helper\" -m \"- add plan/yolo profiles and defaults\" -m \"- add codex-denials sandbox debug alias\""], decision="allow")
prefix_rule(pattern=["bash", "-lc", "latexmk -pdf -interaction=nonstopmode main.tex"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "bash -lc \"rg -n \"\\\\citation|\\\\bibcite\" main.aux | head -n 40\""], decision="allow")
prefix_rule(pattern=["bash", "-lc", "latexmk -C"], decision="allow")
prefix_rule(pattern=["Overfull"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "bash -lc \"rg -n \"\\\\begin\\{(table|figure)\\}\\[h\\]\" -g 'main.tex'\""], decision="allow")
prefix_rule(pattern=["bash", "-lc", "perl -0pi -e 's/\\\\\\\\begin\\{table\\}\\[h\\]/\\\\\\\\begin{table}[ht]/g; s/\\\\\\\\begin\\{figure\\}\\[h\\]/\\\\\\\\begin{figure}[ht]/g' main.tex"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff --stat"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git log --oneline -3"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff -- latexmkrc main.tex"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git add latexmkrc main.tex"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git commit -m \\\"Tidy LaTeX build warnings\\\" -m \\\"- Default latexmk env vars to avoid warnings\\\" -m \\\"- Relax float placement and fix long mono line breaks\\\" -m \\\"- Make bibliography ragged-right and PDF-safe title\\\""], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git pull --rebase"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git stash -u"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git status -sb"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "command -v codex"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "codex execpolicy check --rules ~/.codex/rules/default.rules -- bash -lc \"rg -n foo\""], decision="allow")
prefix_rule(pattern=["bash", "-lc", "codex execpolicy --help"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "codex execpolicy check --help"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "codex execpolicy check --rules ~/.codex/rules/default.rules -- bash -lc \"git pull --rebase\" --pretty"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_TRACE=1 GIT_EDITOR=true git stash push -u -m 'codex-rebase'"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "df -h ."], decision="allow")
prefix_rule(pattern=["bash", "-lc", "touch .git/test_write"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "rm .git/test_write"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git add -A"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git stash push -m 'codex-rebase'"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git stash list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "touch .git/index.lock"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "rm .git/index.lock"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "./scripts/sync_claude_to_codex.sh"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "codex execpolicy check --rules ~/.codex/rules/default.rules -- git status -sb --pretty"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_OPTIONAL_LOCKS=0 GIT_EDITOR=true git stash push -u -m 'codex-rebase'"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff --cached --stat"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff --cached specs/iclr-2026-workshops.md"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff --cached src/compile.sh"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git status --short"], decision="allow")
prefix_rule(pattern=["codex", "execpolicy", "--help"], decision="allow")
prefix_rule(pattern=["codex", "config", "list"], decision="allow")
prefix_rule(pattern=["codex", "--help"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git diff --stat"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git diff --name-status"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git diff --cached --stat"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git log --oneline -3"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git diff --cached specs/iclr-2026-workshops.md"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "rg --files -g \".codex/config.toml\" -g \"requirements.toml\" -g \"codex.toml\" -g \"config.toml\" -g \"requirements*.toml\" /Users/yulong -g \"!.git/*\""], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git diff --cached src/compile.sh"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git commit -m \"Update workshop dates and PDFs\" -m \"- Update Sci4DL and Trustworthy AI deadlines\" -m \"- Refresh main PDFs and make compile.sh executable\""], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git push"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "GIT_EDITOR=true git pull --rebase"], decision="allow")
prefix_rule(pattern=["bash", "-lc"], decision="allow")
prefix_rule(pattern=["git", "add"], decision="allow")
prefix_rule(pattern=["git", "commit"], decision="allow")
prefix_rule(pattern=["git", "worktree", "add"], decision="allow")
