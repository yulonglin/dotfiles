# ========================================================
# AUTO-GENERATED CODEX RULES FROM CLAUDE CODE SETTINGS
# Source: /home/yulong/code/dotfiles/claude/settings.json
# Generated by: scripts/helpers/convert_claude_perms.py
# NOTE: 'ask' entries map to decision="prompt"
# Test: codex execpolicy check --rules ~/.codex/rules/claude_sync.rules -- <command>
# ========================================================

# allow rules
prefix_rule(pattern=["bash", "-lc", "grep"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "rg"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "find"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "fd"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "ls"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "eza"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "cat"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "bat"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "head"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "tail"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "du"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "dust"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "df"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "duf"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "echo"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "mkdir"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "sleep"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "nohup"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "tee"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git init"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git fetch"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git ls-tree"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git merge-base"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git worktree list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git add"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git diff"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git commit"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git stash push"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git stash pop"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git stash list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git push"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "git restore"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git add"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git commit"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git diff"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "GIT_EDITOR=true git status"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "gh api"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "gh pr"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "claude config list"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv add"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv sync"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "python"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "python3"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run python"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run python3"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "HYDRA_FULL_ERROR=1 uv run python"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "pytest"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "uv run pytest"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "for"], decision="allow")
prefix_rule(pattern=["bash", "-lc", "while"], decision="allow")
# Skipped non-Bash permission (allow): WebSearch
# Skipped non-Bash permission (allow): WebFetch
# Skipped non-Bash permission (allow): WebFetch(domain:gitlab.com)
# Skipped non-Bash permission (allow): WebFetch(domain:raw.githubusercontent.com)
# Skipped non-Bash permission (allow): WebFetch(domain:docs.astral.sh)
# Skipped non-Bash permission (allow): WebFetch(domain:openreview.net)
# Skipped non-Bash permission (allow): WebFetch(domain:neurips.cc)
# Skipped non-Bash permission (allow): WebFetch(domain:iclr.cc)
# Skipped non-Bash permission (allow): WebFetch(domain:icml.cc)
# Skipped non-Bash permission (allow): WebFetch(domain:papers.nips.cc)
# Skipped non-Bash permission (allow): WebFetch(domain:proceedings.mlr.press)
# Skipped non-Bash permission (allow): Read
# Skipped non-Bash permission (allow): Read(//tmp/claude/**/tasks/**)

# deny rules
prefix_rule(pattern=["bash", "-lc", "rm -rf"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "rm -r"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "shred"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", ">"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "truncate"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git checkout --"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git reset --hard"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git clean"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git push --force"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git push -f"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "git branch -D"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "dd"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "mkfs"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "fdisk"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "chmod -R 777"], decision="forbidden")
prefix_rule(pattern=["bash", "-lc", "chown -R"], decision="forbidden")

